<div class="row">

    <div class="col-md-8 col-sm-12 mb-4">
        <div class="card">
      


                <div class="card-body">
                    <div class="float-left float-none-xs">
                        <div class="d-inline-block">
                            <h5 class="d-inline">Nombre d'articles par média</h5>
                            <span class="text-muted text-small d-block">  {{duration}} </span>
                        </div>
                    </div>
 

                    <div class=" float-right float-none-xs mt-2 mb-3">
                        <div class="input-group ">
                        <input class="form-control" #drp="bsDaterangepicker" [(ngModel)]="rage_date"  placement='left'  bsDaterangepicker placeholder="Date de publication" [maxDate]="today"  [container]="'html'"  (ngModelChange)="changeDate($event)"
                        [bsConfig]="{ adaptivePosition: true, rangeInputFormat: 'DD/MM/YYYY' }"> 
                        <div class="input-group-append">
                          <span  class="input-group-text" id="basic-addon2">
                            <a (click)="removeDates()">
                              <i class="simple-icon-refresh c-pointer"></i>  
                            </a>
                          </span>
                        </div>
                      </div>
                    </div>
                </div>
                <div class="card-body pt-0">

                    <div class="dashboard-donut-chart">
                        <app-doughnut-chart *ngIf="polarAreaChartData" [shadow]="true" [options]="chartDataConfig.doughnutChartOptions"
                            [data]="polarAreaChartData"></app-doughnut-chart>
                    </div>
                </div>



       
        </div>
    </div>
   <div  class="col-md-4 col-sm-12 mb-4">
        <div style="height: 415px;" class="card">
            <div class="card-body">
           
                <div class="float-left float-none-xs">
                    <div class="d-inline-block">
                        <h5 class="d-inline">Nbr d'articles par média</h5>
                        <span class="text-muted text-small d-block">  {{duration}} </span>
                    </div>
                </div>

                <div class=" float-right float-none-xs mt-2 mb-3">
                   Total : {{total}}
                </div>
            </div>

            <div class="card-body pt-0">

                <perfect-scrollbar style="height: 300px;" class="scroll" [config]="{suppressScrollX: true, wheelPropagation: false}">
                    <table class="table table-sm table-borderless">
                        <tbody>
                            <tr *ngFor="let medium of articlesWithCount">
                                <td>
                                    <span class="font-weight-medium">{{medium.name}}</span>
                                </td>
                                <td class="text-right"><span class="text-muted">{{medium.count}}</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </perfect-scrollbar>




            </div>
        </div>
    </div>
    
    
</div>

<div class="row">
       <div class="col-sm-12 col-md-6 mb-4">
      
        <!-- <div class="card">
            <div class="card-body">
                <h5 class="card-title">Top 5 auteurs (Aujourd'hui) </h5>
                <div >
                    <app-polar-chart *ngIf="polarAreaChartDataAuthor" [shadow]="true" [class]="chartClass" [options]="chartDataConfig.polarAreaChartOptions"
                        [data]="polarAreaChartDataAuthor"></app-polar-chart>
                </div>
            </div>
        </div>
         -->
        
          
    <div class="card">
      


        <div class="card-body">
            <div class="float-left float-none-xs">
                <div class="d-inline-block">
                    <h5 class="d-inline">Top 5 auteurs (Aujourd'hui)</h5>
                    <span class="text-muted text-small d-block">  {{durationAuthor}} </span>
                </div>
            </div>


            <div class=" float-right float-none-xs mt-2 mb-3">
                <div class="input-group ">
                <input class="form-control" #drp="bsDaterangepicker" [(ngModel)]="rage_date_author"  placement='left'  bsDaterangepicker placeholder="Date de publication" [maxDate]="today"  [container]="'html'"  (ngModelChange)="changeDateAuthor($event)"
                [bsConfig]="{ adaptivePosition: true, rangeInputFormat: 'DD/MM/YYYY' }"> 
                <div class="input-group-append">
                  <span  class="input-group-text" id="basic-addon3">
                    <a (click)="removeDatesAuthor()">
                      <i class="simple-icon-refresh c-pointer"></i>  
                    </a>
                  </span>
                </div>
              </div>
            </div>
        </div>
        <div class="card-body pt-0">

            <app-polar-chart *ngIf="polarAreaChartDataAuthor" [shadow]="true" [class]="chartClass" [options]="chartDataConfig.polarAreaChartOptions"
            [data]="polarAreaChartDataAuthor"></app-polar-chart>
        </div>




</div>

    </div> 







     <div class="col-sm-12 col-md-6 mb-4">
      
        <!-- <div class="card">
            <div class="card-body">
                <h5 class="card-title">Nombre d'articles par tags</h5>
                <div >
                    <app-polar-chart [shadow]="true"  *ngIf="polarAreaChartDataTag"  [class]="chartClass" [options]="chartDataConfig.polarAreaChartOptions"
                        [data]="polarAreaChartDataTag"></app-polar-chart>
                </div>
            </div>
        </div> -->




                
    <div class="card">
      


        <div class="card-body">
            <div class="float-left float-none-xs">
                <div class="d-inline-block">
                    <h5 class="card-title">Nombre d'articles par tags</h5>
                    <!-- <span class="text-muted text-small d-block">  {{durationAuthor}} </span> -->
                </div>
            </div>


            <div class=" float-right float-none-xs mt-2 mb-3">
                <div class="input-group ">
                <!-- <input class="form-control" #drp="bsDaterangepicker" [(ngModel)]="rage_date_author"  placement='left'  bsDaterangepicker placeholder="Date de publication" [maxDate]="today"  [container]="'html'"  (ngModelChange)="changeDateAuthor($event)"
                [bsConfig]="{ adaptivePosition: true, rangeInputFormat: 'DD/MM/YYYY' }"> 
                <div class="input-group-append">
                  <span  class="input-group-text" id="basic-addon3">
                    <a (click)="removeDatesAuthor()">
                      <i class="simple-icon-refresh c-pointer"></i>  
                    </a>
                  </span>
                </div> -->
              </div>
            </div>
        </div>
        <div class="card-body pt-0">

            <app-polar-chart [shadow]="true"  *ngIf="polarAreaChartDataTag"  [class]="chartClass" [options]="chartDataConfig.polarAreaChartOptions"
            [data]="polarAreaChartDataTag"></app-polar-chart>
        </div>




</div>
        
        
          

    </div> 
</div>

<div class="row">

    <div class="col-12 mb-4">
        <div class="card">
            <div class="card-body">
                <div class="float-left float-none-xs">
                    <div class="d-inline-block">
                        <h5 class="d-inline">Nombre d'articles</h5>
                        <span class="text-muted text-small d-block">les derniers  {{this.days}} jours</span>
                    </div>
                </div>
                <div class="btn-group float-right float-none-xs mt-2" dropdown>
                    <button id="button-basi" dropdownToggle type="button"
                        class="btn btn-outline-primary btn-xs dropdown-toggle" aria-controls="dropdown-basi">
                        {{this.days}} JOURS <span class="caret"></span>
                    </button>
                    <ul id="dropdown-basi" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-basi">
                        <li role="menuitem"><a (click)="changeDays(7)" class="dropdown-item" href="javascript:;">7 JOURS</a>
                        </li>
                        <li role="menuitem"><a (click)="changeDays(15)" class="dropdown-item" href="javascript:;">15 JOURS</a>
                        </li>
                        <li role="menuitem"><a (click)="changeDays(21)" class="dropdown-item" href="javascript:;">21 JOURS</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="card-body pt-0">
                <app-line-chart *ngIf="lineChartData && lineChartOptions" [shadow]="true" [options]="lineChartOptions" [data]="lineChartData">
                </app-line-chart>
            </div>
            







          </div>
    </div>



    
</div>




<div class="row">

    <div class="col-md-12 col-sm-12 mb-4">
        <div class="card">
      


                <div class="card-body">
                    <div class="float-left float-none-xs">
                        <div class="d-inline-block">
                            <h5 class="d-inline">Nombre d'apparitions tag par date</h5>
                            <span class="text-muted text-small d-block">  {{durationTag}} </span>
                        </div>
                    </div>
 

                    <div class=" float-right float-none-xs mt-2 mb-3">
                        <div class="input-group ">
                        <input class="form-control" #drp="bsDaterangepicker" [(ngModel)]="rage_date_tag"  placement='left'  bsDaterangepicker placeholder="Date de publication" [maxDate]="today"  [container]="'html'"  (ngModelChange)="changeDateTag($event)"
                        [bsConfig]="{ adaptivePosition: true, rangeInputFormat: 'DD/MM/YYYY' }"> 
                        <div class="input-group-append">
                          <span  class="input-group-text" id="basic-addon3">
                            <a (click)="removeDatesTag()">
                              <i class="simple-icon-refresh c-pointer"></i>  
                            </a>
                          </span>
                        </div>
                      </div>
                    </div>
                </div>
                <div class="card-body pt-0">

                    <app-bar-chart *ngIf="lineChartData_tag && _barChartOptions" [shadow]="true" [options]="_barChartOptions" [data]="lineChartData_tag"  (barClick)="handleBarClick($event)">
                    </app-bar-chart>
                </div>



       
        </div>
    </div>

    
    
</div>




<div class="row">
    <div class="col-sm-12 col-md-12 mb-12">
   
     <div class="card">
         <div class="card-body">
             <h5 class="card-title">Le top tag 'عبد المجيد تبون'  par media</h5>
             <div >
                 <app-polar-chart *ngIf="polarAreaChartDataTAgMedia" [shadow]="true" [class]="chartClass" [options]="chartDataConfig.polarAreaChartOptions"
                     [data]="polarAreaChartDataTAgMedia"></app-polar-chart>
             </div> 
         </div>
     </div>
     
     
       

 </div> 


</div>


<ng-template #template>
    <div class="modal-body">
      <h6 class="modal-title mb-4 text-center"> Liste d'articles du Tag <span style="font-weight: bold;">{{tagName}}</span></h6>
  
  
      <div class="row" >
        <div class="col-12">
  
          <div class="card mb-4">
            <div class="card-body" style="max-height: 700px; overflow-y: auto;" >
                <div *ngFor="let item of result; let i = index;" [ngClass]="{'mb-3':result.length!==(i+1)}">

        

                    <div class="row">
      
                      <!-- <div class="col-1">
                      <img  class="img-thumbnail border-0 rounded-circle list-thumbnail align-self-center small " [src]="item.attributes.medium?.avatar.url ? urlForImage + item.attributes.medium?.avatar.url : defaultIcon" [alt]="item.attributes.medium.name">
                    </div> -->
      
                      <div class="col-11">
                        <p *ngIf="item.attributes.category_article != ''" class="list-item-heading mb-1 color-theme-1">   <span   [class]="'badge badge-pill badge-secondary'"> {{item.attributes.medium.name}}</span>   / <span style="background-color: brown; color: white;"  [class]="'badge badge-pill'"> {{item.attributes.category_article}}</span> 
                        </p>
                        <p *ngIf="item.attributes.category_article == ''" class="list-item-heading mb-1 color-theme-1">   <span   [class]="'badge badge-pill badge-secondary'"> {{item.attributes.medium.name}}</span>  
                        </p>
                        <a  target="_blank" [href]="'admin/articles/details?id='+item.id" class="w-40 w-sm-100">
                            <p class="list-item-heading mb-1 color-theme-1"><b>{{item.attributes.title}}</b></p>
                        </a>
                        <p class="mb-1 text-muted text-small"> <b>{{ item.attributes.author.name }}</b> | {{item.attributes.date_published | date:'dd/MM/yyyy'}}</p>
                        <!-- <p class="mb-4 text-small">{{ item.description }}</p> -->
                       <div [innerHTML]="(item.attributes.body | slice:0:150 ) + '...' "></div> 
                        <!-- <div [innerHTML]="getBodyWithSearch(item.attributes.body)"></div> -->
                      
                      </div>
                      <!-- <div class="col-1">
                        <label style="margin: 5px;" class="custom-control custom-checkbox mb-1 align-self-center pr-4">
                 
                          <input type="checkbox" class="custom-control-input" [id]="'customCheck'+i" [checked]="isSelected(item)"
                            (change)="onSelect(item)"> 
                          <label class="custom-control-label" [for]="'customCheck'+i"></label> 
                        </label>
                      </div> -->
                    </div>
                    <div class="separator mb-5" *ngIf="result.length!==(i+1)"></div>
              
                </div>
            
            </div>
          </div>
  
  
  
        </div>
      </div>
  
      <!-- <div class="col-12">
        <pagination [boundaryLinks]="true"  [totalItems]="totalElements" [itemsPerPage]="itemsPerPage" [rotate]="true" [maxSize]="5"
          [(ngModel)]="currentPage" (pageChanged)="pageChanged($event)" class="justify-content-center" [customFirstTemplate]="firstTemplate" [customLastTemplate]="lastTemplate"
          [customPreviousTemplate]="prevTemplate" [customNextTemplate]="nextTemplate">
        </pagination>
      </div> -->
  
<!--   
      <button type="button" class="btn btn-outline-primary" (click)="submit()">Confirmer</button> {{" "}}
      <button type="button" class="btn btn-primary" (click)="decline()">Annuler</button> -->
    </div>
</ng-template>